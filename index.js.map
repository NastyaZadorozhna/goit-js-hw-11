{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\n\nexport const fetchPhotos = searchedQuery => {\n    const urlParams = new URLSearchParams({\n        key: '45695124-2521d690be74d3f32382c65dc',\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}/?${urlParams}`).then(response =>{\n        if (!response.ok) {\n            throw new Error(response.status);\n          }\n\n          return response.json();\n    });\n\n};","export const createGalleryCardTemplate = imgInfo => {\n    return `\n    <li class=\"gallery-card\">\n    <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n      <img \n      class=\"gallery-img\" \n      src=\"${imgInfo.webformatURL}\" \n      alt=\"${imgInfo.tags}\" />\n    </a>\n  <div class=\"wrapper\">\n    <ul class=\"img-content-wrapper\">\n      <li class=\"text-info\">\n        Likes<span class=\"number\">${imgInfo.likes}</span>\n      </li>\n      <li class=\"text-info\">\n        Views<span class=\"number\">${imgInfo.views}</span>\n      </li>\n      <li class=\"text-info\">\n        Comments<span class=\"number\">${imgInfo.comments}</span>\n      </li>\n      <li class=\"text-info\">\n        Downloads<span class=\"number\">${imgInfo.downloads}</span>\n      </li>\n    </ul>\n  </div>\n</li>\n    `;\n  };\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport {fetchPhotos} from './js/pixabay-api';\nimport {createGalleryCardTemplate} from './js/render-functions';\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\n/*const searchBtn =document.querySelector('.search-btn');*/\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n  \n    const searchedValue = searchFormEl.elements.user_query.value;\n  \n\n    function showLoader() {\n        loader.classList.remove('is-hidden');\n      }\n      function hideLoader() {\n        loader.classList.add('is-hidden');\n      }\n    \n      showLoader();\n      setTimeout(hideLoader, 300);\n\n    fetchPhotos(searchedValue)\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'center',\n          });\n  \n          galleryEl.innerHTML = '';\n          searchFormEl.reset();\n  \n          return;\n        }\n  \n        const galleryCardsTemplate = data.hits.map(imgDetails => createGalleryCardTemplate(imgDetails))\n        .join('');\n    \n        galleryEl.innerHTML = galleryCardsTemplate;\n    \n        let imageGallery = new SimpleLightbox('.gallery a', {\n            navText:  ['<','>'],\n            captionsData: 'alt',\n            captionDelay: 250,\n            enableKeyboard: true,\n        });\n        imageGallery.refresh();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n  \n  searchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["BASE_URL","fetchPhotos","searchedQuery","urlParams","response","createGalleryCardTemplate","imgInfo","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","searchedValue","showLoader","hideLoader","data","iziToast","galleryCardsTemplate","imgDetails","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAW,0BAEJC,EAAcC,GAAiB,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAS,EAAE,EAAE,KAAKC,GAAW,CACtD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MAC1B,CAAK,CAEL,ECnBaC,EAA4BC,GAC9B;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA;AAAA;AAAA,aAG5CA,EAAQ,YAAY;AAAA,aACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAKWA,EAAQ,KAAK;AAAA;AAAA;AAAA,oCAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,uCAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,wCAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MCfnDC,EAAe,SAAS,cAAc,iBAAiB,EAEvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBL,EAAa,SAAS,WAAW,MAGvD,SAASM,GAAa,CAClBJ,EAAO,UAAU,OAAO,WAAW,CACpC,CACD,SAASK,GAAa,CACpBL,EAAO,UAAU,IAAI,WAAW,CACjC,CAEDI,IACA,WAAWC,EAAY,GAAG,EAE5Bb,EAAYW,CAAa,EACtB,KAAKG,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,QACtB,CAAW,EAEDR,EAAU,UAAY,GACtBD,EAAa,MAAK,EAElB,MACD,CAED,MAAMU,EAAuBF,EAAK,KAAK,IAAIG,GAAcb,EAA0Ba,CAAU,CAAC,EAC7F,KAAK,EAAE,EAERV,EAAU,UAAYS,EAEH,IAAIE,EAAe,aAAc,CAChD,QAAU,CAAC,IAAI,GAAG,EAClB,aAAc,MACd,aAAc,IACd,eAAgB,EAC5B,CAAS,EACY,QAAO,CAC5B,CAAO,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,CACP,EAEEb,EAAa,iBAAiB,SAAUG,CAAkB"}